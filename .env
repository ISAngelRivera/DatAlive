# .env.example - DataLive Configuration
# Copy this file to .env and update with your values

# =====================================================
# General Settings
# =====================================================
TZ=UTC
NODE_ENV=production
PROJECT_NAME=datalive

# =====================================================
# Service URLs (for scripts and integrations)
# =====================================================
N8N_URL=http://localhost:5678
OLLAMA_URL=http://localhost:11434
QDRANT_URL=http://localhost:6333
MINIO_URL=http://localhost:9000
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
REDIS_HOST=localhost
REDIS_PORT=6379

# =====================================================
# PostgreSQL Configuration
# =====================================================
POSTGRES_USER=admin
POSTGRES_DB=datalive_db
# Password stored in secrets/postgres_password.txt

# =====================================================
# Redis Configuration
# =====================================================
REDIS_PASSWORD=adminpassword

# =====================================================
# MinIO Configuration
# =====================================================
MINIO_ROOT_USER=admin
# Secret key stored in secrets/minio_secret_key.txt
MINIO_DEFAULT_BUCKETS=documents,images,embeddings,backups
MINIO_REGION=us-east-1

# =====================================================
# N8N Initial Setup Configuration
# =====================================================
# User registration info
N8N_USER_EMAIL=angeldasound@gmail.com
N8N_USER_FIRSTNAME=Angel
N8N_USER_LASTNAME=Rivera
N8N_USER_PASSWORD=Adminpassword1

# License and registration
N8N_LICENSE_KEY=20d94139-11f1-436c-956f-91060bda4c99
N8N_LICENSE_TENANT_ID=1
N8N_ACTIVATION_KEY=20d94139-11f1-436c-956f-91060bda4c99

# Survey answers (for auto-setup)
N8N_COMPANY_SIZE=20+
N8N_INDUSTRY=other
N8N_INDUSTRY_OTHER=Technology
N8N_ROLE=engineering
N8N_ROLE_OTHER=Development
N8N_CODING_SKILL=advanced
N8N_GOALS=automation
N8N_HEARD_FROM=youtube

# N8N Runtime Configuration
N8N_BASIC_AUTH_ACTIVE=false
N8N_METRICS_ENABLED=true
N8N_VERSION_NOTIFICATIONS_ENABLED=false
N8N_TEMPLATES_ENABLED=true
N8N_PERSONALIZATION_ENABLED=false
N8N_DIAGNOSTICS_ENABLED=false
N8N_HIRING_BANNER_ENABLED=false

# =====================================================
# Ollama Models Configuration
# =====================================================
# LLM Models
OLLAMA_LLM_PRIMARY=phi-4:latest
OLLAMA_LLM_FALLBACK=phi-4:mini
OLLAMA_LLM_TEMPERATURE=0.7
OLLAMA_LLM_TOP_P=0.9
OLLAMA_LLM_MAX_TOKENS=4096

# Embedding Models
OLLAMA_EMBED_TEXT_PRIMARY=nomic-embed-text:v1.5
OLLAMA_EMBED_TEXT_FALLBACK=mxbai-embed-large
OLLAMA_EMBED_TEXT_DIMENSION=768

# Multimodal Models (optional)
OLLAMA_MULTIMODAL_PRIMARY=llava:latest
OLLAMA_MULTIMODAL_FALLBACK=bakllava:latest

# Model list for auto-download (space-separated)
OLLAMA_MODELS_TO_INSTALL="phi-4:latest phi-4:mini nomic-embed-text:v1.5 nomic-embed-text:latest mxbai-embed-large llava:latest"

# =====================================================
# Qdrant Configuration
# =====================================================
QDRANT_COLLECTIONS=documents,images,multimodal
QDRANT_DEFAULT_DIMENSION=768
QDRANT_DISTANCE_METRIC=Cosine
QDRANT_REPLICATION_FACTOR=1

# =====================================================
# Grafana Configuration
# =====================================================
GRAFANA_USER=admin
# Password stored in secrets/grafana_password.txt
GRAFANA_ORG_NAME=DataLive
GRAFANA_PLUGINS=grafana-clock-panel,grafana-simple-json-datasource,grafana-piechart-panel

# =====================================================
# Data Sources Configuration
# =====================================================
# Google Drive
GOOGLE_CLIENT_ID=368774625602-jofgcqk2eth9mv950kgbr4m8oc0i3j8j.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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
GOOGLE_OAUTH_FILE=./resources/crdtls/OauthGoogle.json
GOOGLE_DRIVE_FOLDERS=fResumenGoogleAPIS,DatAlive_TestData  # Comma-separated

# SharePoint (future)
SHAREPOINT_TENANT_ID=
SHAREPOINT_CLIENT_ID=
SHAREPOINT_CLIENT_SECRET=
SHAREPOINT_SITES=site1,site2  # Comma-separated

# Confluence (future)
CONFLUENCE_URL=
CONFLUENCE_USERNAME=
CONFLUENCE_API_TOKEN=
CONFLUENCE_SPACES=SPACE1,SPACE2  # Comma-separated

# Git Repositories
GIT_REPOSITORIES=https://github.com/ISAngelRivera/DatAlive,https://github.com/ISAngelRivera/QnA_BOT
GIT_BRANCH=main
GIT_SYNC_INTERVAL=60  # minutes
GIT_FILE_EXTENSIONS=md,txt,yaml,yml,json,tf,py,js,ts,README,LICENSE
GIT_MAX_FILE_SIZE=1048576  # 1MB in bytes

# =====================================================
# Sync Configuration
# =====================================================
SYNC_INTERVAL_MINUTES=30
SYNC_DELETE_GRACE_PERIOD_DAYS=7  # Keep deleted files for N days before purging
SYNC_ENABLE_DELETION=true
SYNC_VERIFY_HASHES=true
SYNC_PARALLEL_WORKERS=4

# =====================================================
# Backup Configuration
# =====================================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"  # 2 AM daily
BACKUP_S3_BUCKET=datalive-backups
BACKUP_COMPRESS=true

# =====================================================
# Monitoring and Logging
# =====================================================
PROMETHEUS_RETENTION_DAYS=30
LOKI_RETENTION_DAYS=7
LOG_LEVEL=info
ENABLE_DEBUG_LOGS=false

# =====================================================
# Resource Limits (optional overrides)
# =====================================================
# N8N_MEMORY_LIMIT=2G
# N8N_CPU_LIMIT=2
# OLLAMA_MEMORY_LIMIT=16G
# OLLAMA_CPU_LIMIT=4
# POSTGRES_MEMORY_LIMIT=4G
# POSTGRES_CPU_LIMIT=2
# QDRANT_MEMORY_LIMIT=4G
# QDRANT_CPU_LIMIT=2

# =====================================================
# Performance Tuning
# =====================================================
# PostgreSQL
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_SHARED_BUFFERS=256MB

# Redis
REDIS_MAXMEMORY=2gb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# Ollama
OLLAMA_NUM_PARALLEL=4
OLLAMA_MAX_LOADED_MODELS=2
OLLAMA_MAX_QUEUE=100

# =====================================================
# Development/Testing
# =====================================================
ENABLE_TEST_MODE=false
SKIP_HEALTH_CHECKS=false
VERBOSE_LOGGING=false
COMPOSE_PROJECT_NAME=datalive
POSTGRES_PASSWORD=adminpassword
MINIO_ROOT_PASSWORD=adminpassword
GRAFANA_PASSWORD=adminpassword
WEBHOOK_URL=http://localhost:5678/
N8N_WEBHOOK_URL=http://localhost:5678/webhook